## ‚ú® –õ–∞–±–∞ 8. –°—É–ø–µ—Ä–∞—á–∏–≤–∫–∞. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å–º–æ–≤ MovieLens ‚Äî 2

##### [![New Professions Lab ‚Äî Big Data 8](http://data.newprolab.com/public-newprolab-com/npl7.svg)](https://github.com/newprolab/content_bigdata8)

### –î–µ–¥–ª–∞–π–Ω

‚è∞ –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, 28 –º–∞—è 2018 –≥–æ–¥–∞, 23:59.

### –ó–∞–¥–∞—á–∞

–ü–æ –∏–º–µ—é—â–∏–º—Å—è –¥–∞–Ω–Ω—ã–º –æ —Ä–µ–π—Ç–∏–Ω–≥–∞—Ö —Ñ–∏–ª—å–º–æ–≤ (MovieLens: 100 000 —Ä–µ–π—Ç–∏–Ω–≥–æ–≤) –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–ª–ª–∞–±–æ—Ä–∞—Ç–∏–≤–Ω—É—é —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É. –í—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å (–∞—á–∏–≤–∫–∞) ‚Äî —ç—Ç–æ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã, –Ω–∞—á–∞—Ç–æ–π –≤ [–õ–∞–±–µ 8](lab08.md). –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–ª–ª–∞–±–æ—Ä–∞—Ç–∏–≤–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø—É—Ç—ë–º –ø–æ–¥—Å—á—ë—Ç–∞ –±–∞–∑–æ–≤—ã—Ö –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä–æ–≤ –∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å –Ω–∏–º–∏ Item-Item Recommender System.

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –≤—Ö–æ–¥

–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –¥–∞—Ç–∞—Å–µ—Ç MovieLens –∏ `id` –≤—ã–¥–∞–Ω–Ω–æ–≥–æ –≤–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ ‚Äî —Ç–æ—Ç –∂–µ, —á—Ç–æ –¥–ª—è [–õ–∞–±—ã 8](lab08.md).

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –≤—ã—Ö–æ–¥

**–ß–∞—Å—Ç—å 3. –ë–∞–∑–æ–≤—ã–µ –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä—ã:**

1. –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å—Ä–µ–¥–Ω–µ–µ ùûµ (`average_rating`) –ø–æ –≤—Å–µ–º—É –¥–∞—Ç–∞—Å–µ—Ç—É. `–°—É–º–º–∞ –≤—Å–µ—Ö –æ—Ü–µ–Ω–æ–∫ –ø–æ –≤—Å–µ–º —Ñ–∏–ª—å–º–∞–º / –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Å–µ—Ö –æ—Ü–µ–Ω–æ–∫ –ø–æ –≤—Å–µ–º —Ñ–∏–ª—å–º–∞–º.`

2. –ë–∞–∑–æ–≤—ã–π –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ñ–∏–ª—å–º–∞–º, –æ—Ü–µ–Ω–µ–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º). –ó–¥–µ—Å—å I<sub>a</sub> ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ–∏–ª—å–º–æ–≤, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å —Ä–µ–π—Ç–∏–Ω–≥–∏, –∞ |I<sub>a</sub>| ‚Äî –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ.

<img width="200px" src="http://data.newprolab.com/public-newprolab-com/laba08s_base_u.png">

3. –ë–∞–∑–æ–≤—ã–π –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∏–ª—å–º–∞ (—Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º, –ø–æ—Å—Ç–∞–≤–∏–≤—à–∏–º –æ—Ü–µ–Ω–∫—É –¥–∞–Ω–Ω–æ–º—É —Ñ–∏–ª—å–º—É). –ó–¥–µ—Å—å U<sub>i</sub> ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ü–µ–Ω–∏–ª–∏ –¥–∞–Ω–Ω—ã–π —Ñ–∏–ª—å–º, –∞ |U<sub>i</sub>| ‚Äî –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ.

<img width="250px" src="http://data.newprolab.com/public-newprolab-com/laba08s_base_i.png">

4. –ë–∞–∑–æ–≤—ã–π –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∫–∞–∂–¥–æ–≥–æ —Ñ–∏–ª—å–º–∞:

<img width="140px" src="http://data.newprolab.com/public-newprolab-com/laba08s_base_ui.png">

**–ß–∞—Å—Ç—å 4. Item-item CF:**

1. –í—ã—á–µ—Å—Ç—å –∏–∑ –≤—Å–µ—Ö —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ r<sub>ui</sub> –±–∞–∑–æ–≤—ã–π –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä b<sub>ui</sub> –∏–∑ –ø—É–Ω–∫—Ç–∞ 4, —á–∞—Å—Ç—å 3 (–¥–ª—è –≤—Å–µ–π —Ç–∞–±–ª–∏—Ü—ã —Ä–µ–π—Ç–∏–Ω–≥–æ–≤). –ï—Å–ª–∏ —Ä–µ–π—Ç–∏–Ω–≥–∞ –Ω–µ—Ç, —Ç–æ –º–æ–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å 0.
2. –ù–∞–π–¥–∏—Ç–µ –ø–æ–ø–∞—Ä–Ω—ã–µ –º–µ—Ä—ã –±–ª–∏–∑–æ—Å—Ç–∏ (–∫–æ—Å–∏–Ω—É—Å) –¥–ª—è –≤—Å–µ—Ö —Ñ–∏–ª—å–º–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è –æ—á–∏—â–µ–Ω–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏ –∏–∑ –ø—É–Ω–∫—Ç–∞ 1, —á–∞—Å—Ç—å 4. –°—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–¥–µ—Ç –ø–æ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

<img width="350px" src="http://data.newprolab.com/public-newprolab-com/laba08s_cosine_items.png">

3. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∏–ª—å–º–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É —É –¥–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ —Å—Ç–æ–∏—Ç —Ä–µ–π—Ç–∏–Ω–≥, –Ω–∞–π–¥–∏—Ç–µ:

   * [a] 30 –±–ª–∏–∂–∞–π—à–∏—Ö —Ñ–∏–ª—å–º–æ–≤-—Å–æ—Å–µ–¥–µ–π –¥–ª—è —ç—Ç–æ–≥–æ —Ñ–∏–ª—å–º–∞ (—Å—Ä–µ–¥–∏ –≤—Å–µ—Ö —Ñ–∏–ª—å–º–æ–≤, –∞ –Ω–µ —Ñ–∏–ª—å–º–æ–≤, –æ—Ü–µ–Ω—ë–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º).

   * [b] –ø—Ä–æ–≥–Ω–æ–∑ –æ—Ü–µ–Ω–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ (–±–∞–∑–æ–≤—ã–π –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä –∏–∑ –ø—É–Ω–∫—Ç–∞ 4, —á–∞—Å—Ç—å 3).  –ó–¥–µ—Å—å *S(i)*- –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ–∏–ª—å–º–æ–≤-—Å–æ—Å–µ–¥–µ–π –¥–ª—è —Ñ–∏–ª—å–º–∞ *i*, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —É –¥–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –æ—Ü–µ–Ω–∫–∞.
     <img width="300px" src="http://data.newprolab.com/public-newprolab-com/laba08s_item_item_cf.png">

     –ó–∞–º–µ—Ç–∏–º, —á—Ç–æ —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–¥–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ —Ç–µ–º —Ñ–∏–ª—å–º–∞–º-—Å–æ—Å–µ–¥—è–º, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ü–µ–Ω–∏–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

4. –†–µ–∫–æ–º–µ–Ω–¥—É–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é 10 —Ñ–∏–ª—å–º–æ–≤ (`predicators_top10`) —Å —Å–∞–º—ã–º–∏ –≤—ã—Å–æ–∫–∏–º–∏ –æ—Ü–µ–Ω–∫–∞–º–∏ –∏–∑ –ø—É–Ω–∫—Ç–∞ 3, —á–∞—Å—Ç—å 4.

5. –ü—Ä–∏ –ø–æ–¥—Å—á–µ—Ç–µ –ø—Ä–æ–≥–Ω–æ–∑–∞ –ø–æ —Ñ–æ—Ä–º—É–ª–µ –∏–∑ –ø—É–Ω–∫—Ç–∞ 3, —á–∞—Å—Ç—å 4 –æ—Ç—Ñ–∏–ª—å—Ç—Ä—É–π—Ç–µ –≤—Å–µ—Ö —Å–æ—Å–µ–¥–µ–π —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π –±–ª–∏–∑–æ—Å—Ç—å—é.

6. –†–µ–∫–æ–º–µ–Ω–¥—É–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é 10 —Ñ–∏–ª—å–º–æ–≤ (`predicators_positive_top10`) —Å —Å–∞–º—ã–º–∏ –≤—ã—Å–æ–∫–∏–º–∏ –æ—Ü–µ–Ω–∫–∞–º–∏ –∏–∑ –ø—É–Ω–∫—Ç–∞ 5, —á–∞—Å—Ç—å 4.

–ó–∞–¥–∞–Ω–∏–µ –¥–ª—è —Å–µ–±—è: –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç –ª–∏ —Ç–æ–ø—ã –≤ –ø—É–Ω–∫—Ç–∞—Ö 4 –∏ 6. –ù–∞–π–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—â–∏—Ö —Ñ–∏–ª—å–º–æ–≤ –≤ —Ç–æ–ø-10 –∏–∑ –ø—É–Ω–∫—Ç–∞ 6, —á–∞—Å—Ç—å 2  –∏ —Ç–æ–ø-10 –∏–∑ –ø—É–Ω–∫—Ç–∞ 6, —á–∞—Å—Ç—å 4.

#### –ü—Ä–æ–≤–µ—Ä–∫–∞

–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–ª–µ–¥—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª lab08s.json –≤ —Å–≤–æ–µ–π –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Ñ–æ—Ä–º–∞—Ç–µ:

```
{
    "average_rating": 3.1111,
    "predicators_positive_top10": [489, 604, 1449, 611, 656, 170, 847, 793, 615, 963],
    "predicators_top10": [123, 604, 124, 456, 656, 170, 847, 793, 615, 963]
}
```

–ü—Ä–∏ —Ä–∞–≤–µ–Ω—Å—Ç–≤–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –º–µ—Ç—Ä–∏–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é `id`, —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞–∫ —á–∏—Å–ª–æ.

–û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ ‚Äî –¥–æ 4 –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π.

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è `True` –ø–æ –¥–≤—É–º –ø–æ—Å–ª–µ–¥–Ω–∏–º –∫–ª—é—á–∞–º **—Ç–æ—á–Ω–æ—Å—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 0.8**.

–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è [–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–∫—Ä–∏–ø—Ç–æ–º](http://lk.newprolab.com/lab/laba08s) –∏–∑ –õ–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞.
